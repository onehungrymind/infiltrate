<div class="list-container" [class.compact]="compact">
  @if (!compact) {
    <div class="list-header">
      <h1 class="list-title">Learning Paths</h1>
    </div>
  }

  @for (learningPathItem of learningPaths; track learningPathItem.id) {
    <div
      class="list-item"
      [class.active]="isSelected(learningPathItem)"
      [class.compact]="compact"
      (click)="selected.emit(learningPathItem)"
    >
      <div class="list-item-content">
        <div class="list-item-main">
          <h3 class="list-item-title">
            {{ learningPathItem.name || 'Untitled' }}
          </h3>
          @if (learningPathItem.domain && !compact) {
            <p class="list-item-meta">
              {{ learningPathItem.domain }}
            </p>
          }
          @if (learningPathItem.createdAt && !compact) {
            <p class="list-item-date">
              {{ learningPathItem.createdAt | date:'short' }}
            </p>
          }
        </div>
        @if (!readonly) {
          <div class="list-item-actions">
            <button
              class="list-item-action edit"
              (click)="onEdit(learningPathItem, $event)"
              type="button"
              aria-label="Edit learning path"
            >
              <mat-icon>edit</mat-icon>
            </button>
            <button
              class="list-item-action delete"
              (click)="onDelete(learningPathItem); $event.stopImmediatePropagation()"
              type="button"
              aria-label="Delete learning path"
            >
              <mat-icon>close</mat-icon>
            </button>
          </div>
        }
      </div>
    </div>
  }

  @if (learningPaths.length === 0) {
    <div class="list-empty">
      <mat-icon class="list-empty-icon">inbox</mat-icon>
      <p class="list-empty-text">No learning paths found</p>
    </div>
  }
</div>
